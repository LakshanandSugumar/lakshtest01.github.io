{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":"","tags":["tag1","tag2"]},{"location":"#welcome-to-lakshanand-sugumars-subsystem-datasheet","title":"Welcome to Lakshanand Sugumar\u2019s Subsystem Datasheet","text":"","tags":["tag1","tag2"]},{"location":"#automatic-door-opener-team-103","title":"Automatic Door Opener \u2014 Team 103","text":"","tags":["tag1","tag2"]},{"location":"#introduction","title":"Introduction","text":"<p>This datasheet focuses on the design and programming of the Flex Sensor in the Private Use Automatic Door Opener</p>","tags":["tag1","tag2"]},{"location":"#project-summary","title":"Project Summary","text":"<p>This project focuses on the Motor Control Subsystem \u2014 one of the four key subsystems of the Automatic Door Opener. The overall system is designed to enable door operation through sensors rather than traditional buttons or handles, providing hands-free access for improved safety, convenience, and accessibility in households where users often have their hands full.</p> <p>The Motor Control Subsystem receives input from two IR sensors, a flex sensor, and a rotary encoder. These inputs allow the subsystem to interpret when to activate, stop, or disengage the motor during door movement. In particular, the flex sensor plays a crucial role in detecting door bending or resistance. It compares its readings with the rotary encoder values to determine if the motor should continue running or stop \u2014 for instance, when the door is fully open, obstructed, or manually disengaged. This helps prevent unnecessary power consumption and enhances system safety.</p> <p>The final team report will integrate this subsystem with the other three \u2014 Sensor Detection, Control Logic, and Power Management \u2014 showing how they communicate and share data to achieve seamless automatic door operation.</p> <p>For a complete overview of the full system design and team collaboration, visit the team report.</p>","tags":["tag1","tag2"]},{"location":"#my-contribution","title":"My Contribution","text":"<ul> <li> <p>Created and maintained a public GitHub test repository for initial code and documentation setup.</p> </li> <li> <p>Managed the team\u2019s main GitHub repository, ensuring version control, organization, and consistent updates across all subsystems.</p> </li> <li> <p>Served as the Assignment Leader, coordinating team tasks, integrating individual subsystem work, and ensuring timely submission of deliverables to Canvas.</p> </li> </ul>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/","title":"Individual Block Diagram","text":"","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#overview","title":"Overview","text":"<p>This subsystem is responsible for reading analog data from the flex sensor and communicating the interpreted results to the motor subsystem to control door movement. All components within this subsystem operate on a regulated 5 V supply, derived from a 9 V input through an onboard voltage regulator, as shown in the dashed region of the block diagram.</p> <p>The Microchip PIC18F57Q43 Curiosity Nano serves as the primary controller. It performs three main tasks:</p> <ul> <li>Reads the flex sensor\u2019s analog output using its internal ADC.</li> <li>Processes the sensor data to determine door position and bend state.</li> <li>Sends digital status/control signals to external subsystems.</li> </ul> <p>This subsystem interfaces directly with both the Motor Subsystem and the Rotary Sensor Subsystem. The rotary sensor inputs are used for cross-validation: the system compares the physical bend of the door (flex sensor) with the rotation angle (rotary sensor). Any mismatch indicates a mechanical failure (e.g., motor spinning without moving the door), enabling fault detection and automatic shutdown.</p> <p>This interaction improves safety, prevents motor overrun, and reduces power waste. For a full system-level view of all interconnected subsystems, refer to the team report.</p> <p></p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#subsystem-role","title":"Subsystem Role","text":"<p>The Flex Sensor Subsystem acts as a feedback + validation node in the overall system architecture. Its primary function is to:</p> <ul> <li>Convert real-world bending motion into a readable electrical signal</li> <li>Translate that signal into actionable logic for the motor subsystem</li> <li>Detect abnormal or unsafe mechanical conditions through sensor comparison</li> </ul> <p>The rotary sensor signals shown on the right side of the diagram are external inputs and are not part of this subsystem\u2019s hardware. They are included to document the communication pathway and show how this subsystem cooperates with others to maintain correct and safe system behavior.</p> <p>draw.io</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#how-each-element-of-the-block-diagram-helps-meet-product-requirements","title":"How Each Element of the Block Diagram Helps Meet Product Requirements","text":"<p>The Flex Sensor Subsystem is responsible for detecting door bending, validating door motion using rotary encoder data, and signaling the motor subsystem when to continue, stop, or shut down immediately. Each block in the diagram directly contributes to product requirements such as safety, fault detection, accurate position sensing, and reliable subsystem communication.</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#flex-sensor-spectra-symbol-fs-l-095-103-st","title":"Flex Sensor (Spectra Symbol FS-L-095-103-ST)","text":"<ul> <li>Measures bending of the door and converts it into an analog voltage.</li> <li>Supports accurate tracking of door movement.</li> <li>Enables early detection of abnormal bending conditions.</li> </ul>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#voltage-divider-op-amp-mcp6004-low-pass-filter","title":"Voltage Divider + Op-Amp (MCP6004 Low-Pass Filter)","text":"<ul> <li>Converts resistance-based flex changes into usable voltage.</li> <li>Filters electrical noise to provide stable ADC readings.</li> <li>Ensures reliable, accurate measurement required for safe door control.</li> </ul>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#microchip-pic18f57q43-curiosity-nano","title":"Microchip PIC18F57Q43 Curiosity Nano","text":"","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#ra0-adc1-flex-sensor-input","title":"RA0 \u2192 ADC1 (Flex Sensor Input)","text":"<ul> <li>Reads the 0\u20135 V conditioned flex sensor output.</li> <li>Converts it into digital form for angle calculation.</li> <li>Enables real-time decision-making for motor control.</li> </ul>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#rotary-encoder-inputs-adc2-and-uart","title":"Rotary Encoder Inputs (ADC2 and UART)","text":"<ul> <li>Provide independent rotational angle measurements.</li> <li>Used for cross-validation with flex sensor data.</li> <li>Detect mechanical issues such as:</li> <li>Motor running without door movement</li> <li>Excessive or unexpected bending</li> <li>Jammed or obstructed door</li> </ul>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#rf1-ra2-communication-with-motor-subsystem","title":"RF1 / RA2 (Communication with Motor Subsystem)","text":"<ul> <li>Send commands such as \"continue,\" \"stop,\" or \"emergency stop.\"</li> <li>Provide fault feedback for safety-critical behavior.</li> </ul>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#digital-io-ports-rc3-ra1-rb2-rc4-ra3","title":"Digital I/O Ports (RC3, RA1, RB2, RC4, RA3)","text":"<ul> <li>Enable debugging, sensor validation, and internal system communication.</li> <li>RA3 specifically drives the error LED for visible fault detection.</li> </ul>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#red-led-flex-sensor-error-indicator","title":"Red LED (Flex Sensor Error Indicator)","text":"<ul> <li>Illuminates when unsafe bending or mismatched sensor data is detected.</li> <li>Aids both user awareness and subsystem debugging.</li> </ul>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#switch-debugging","title":"Switch (Debugging)","text":"<ul> <li>Allows manual testing of control logic.</li> <li>Supports calibration and verification during development.</li> </ul>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#connector-2-digital-analog-interface","title":"Connector 2 (Digital + Analog Interface)","text":"<ul> <li>Provides structured outputs to motor subsystem and other modules.</li> <li>Ensures clean, modular subsystem integration.</li> <li>Enables transfer of angle data, stop signals, and digital I/O.</li> </ul>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#5-v-voltage-regulator-digi-key-785-14a2-5-nd","title":"5 V Voltage Regulator (Digi-Key 785-14A2-5-ND)","text":"<ul> <li>Converts external 9 V supply into a stable 5 V rail.</li> <li>Prevents noise-induced sensor drift or microcontroller instability.</li> <li>Ensures safe and reliable operation for all subsystem components.</li> </ul>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#summary-of-requirement-satisfaction","title":"Summary of Requirement Satisfaction","text":"Requirement Contribution Accurate door position sensing Flex sensor + op-amp + ADC1 convert bending into stable angle readings. Redundant sensing for safety Rotary encoder inputs cross-check flex sensor behavior. Fault &amp; obstruction detection Mismatch in rotation vs. bending triggers immediate stop. Safe motor operation MCU sends real-time stop/continue commands. User-visible error reporting Red LED shows sensor or mechanical faults. Stable system operation Voltage regulator and filtering ensure consistent performance.","tags":["tag1","tag2"]},{"location":"02-Component-Selection/Component-Selection/","title":"Component Selection (Individual \u2014 Flex Sensor Subsystem)","text":""},{"location":"02-Component-Selection/Component-Selection/#block-flex-sensor","title":"Block: Flex Sensor","text":"<p>Role: Measures bend angle; resistance increases with bend. Routed through a divider to 0\u20135 V for the ADC.</p> Solution Photo Cost Link Pros Cons Option 1: Spectra Symbol FS-L-095-103-RH (95 mm, 10 k\u03a9) ~\\(16\u2013\\)20 Digi-Key product page \u2022 Stock 10 k\u03a9 \u2022 Clear datasheet &amp; ordering guide \u2022 \u201cRH\u201d solder tab option \u2022 \u00b130% R tolerance \u2022 Needs tail strain relief Option 2: Spectra Symbol FS-L-060-103 (60 mm) ~\\(15\u2013\\)18 Mouser FS-L-060-103 \u2022 Shorter length for tight spaces \u2022 Same 10 k\u03a9 nominal \u2022 Similar calibration behavior \u2022 Smaller absolute ADC swing for same bend Option 3: Flexpoint Bend Sensor (10 k\u03a9 class) ~\\(10\u2013\\)20 Mouser bend sensors \u2022 Alternative vendor/lead times \u2022 Multiple formats/lengths \u2022 Different mechanical stack-up; re-characterization may be needed <p>Choice: FS-L-095-103-RH (95 mm, 10 k\u03a9) FS-L-095-103-RH</p> <p>Rationale: Fits the mechanical reach and provides a large, clean ADC span with a simple divider. It\u2019s well-documented and readily available in class-friendly quantities.</p>"},{"location":"02-Component-Selection/Component-Selection/#block-voltage-divider","title":"Block: Voltage Divider","text":"<p>Role: Convert the flex sensor\u2019s resistance change to a 0\u20135 V signal for RA0/AN0; optionally filter/buffer.</p> Solution Photo Cost Link Pros Cons Option 1: Simple divider (10 k\u03a9 sensor vs fixed Rin 10\u201322 k\u03a9) &lt;$0.10 Voltage divider (ref) \u2022 Minimal BOM \u2022 Works straight into ADC \u2022 Source impedance varies \u2192 sampling error \u2022 No anti-alias filtering Option 2: Divider + RC low-pass (e.g., 1 k\u03a9 + 0.1 \u00b5F) &lt;$0.20 RC low-pass (ref) \u2022 Noise reduction \u2022 Stabilizes readings \u2022 Limits aliasing \u2022 Adds latency; cutoff must be chosen Option 3: Buffer with rail-to-rail op-amp (MCP6002) ~\\(0.40\u2013\\)0.80 MCP6002 product \u00b7 Datasheet PDF \u2022 High input Z; isolates ADC \u2022 Rail-to-rail @ 5 V \u2022 Easy to add active filter/gain \u2022 Slightly higher BOM &amp; layout effort <p>Choice: Option 2: Divider + RC, with an upgrade path to Option 3 if noise or ADC impedance issues are observed. Rationale: RC filtering stabilizes the measurement with negligible cost/complexity; buffering remains a drop-in improvement if needed.</p>"},{"location":"02-Component-Selection/Component-Selection/#block-5-v-regulator-from-9-v-source","title":"Block: 5 V Regulator (from 9 V source)","text":"<p>Role: Provide regulated 5 V to the Curiosity Nano + sensor chain.</p> Solution Photo Cost Link Pros Cons Option 1: onsemi MC7805ACTG (TO-220, 5 V / 1.5 A) ~$1 Digi-Key MC7805ACTG \u2022 Simple &amp; robust \u2022 Easy to heatsink \u2022 Low EMI \u2022 Linear \u2192 heat from 9\u21925 V at higher I Option 2: TI LM2940-5.0 (TO-220, ~1 A) ~\\(2\u2013\\)3 TI LM2940 product page \u2022 Lower dropout than 7805 \u2022 Good line/load behavior \u2022 Still linear (heat) \u2022 ~1 A limit Option 3: LM2596 buck module (5 V, up to ~3 A) ~\\(3\u2013\\)6 LM2596 module (Addicore) \u2022 High efficiency \u2022 Low heat \u2022 Higher current headroom \u2022 Module height; EMI care/layout practice <p>Choice: MC7805ACTG MC7805ACTG for the current subsystem load; I would switch to LM2596 if total current rises.</p> <p>Rationale: For Nano + sensor (&lt;~150 mA worst-case), a 7805 is the quietest, lowest-risk choice. If future peripherals raise current or thermal budget, the buck module avoids dissipation.</p> <p>Thermal note: \\( P*{\\text{diss}} = (9\\ \\text{V} - 5\\ \\text{V}) \\times I*{\\text{total}} \\). Example: at 120 mA \u2192 \\(0.48\\ \\text{W}\\) (fine on TO-220 with airflow). Add a small heatsink if \\(&gt;0.8\\ \\text{W}\\).</p>"},{"location":"02-Component-Selection/Component-Selection/#block-external-power-source-feeds-the-5-v-rail","title":"Block: External Power Source (feeds the 5 V rail)","text":"Solution Photo Cost Link Pros Cons Option 1: 9 V wall adapter, 2.1 mm barrel (center +) ~\\(8\u2013\\)12 CUI DPD series datasheet \u2022 Clean, regulated \u2022 Plug-and-play \u2022 No charging concerns \u2022 Tethered to mains Option 2: 6\u00d7AA holder (9 V alkaline / ~7.2 V NiMH) ~\\(1\u2013\\)3 DFRobot 6\u00d7AA holder \u2022 Cheap, simple \u2022 Field-portable \u2022 Requires cells/charger \u2022 V droop under load Option 3: 2\u00d718650 holder (7.4 V nominal) + buck to 5 V ~\\(2\u2013\\)5 (+ cells) Parts-Express 2\u00d718650 holder \u2022 High energy density \u2022 Reusable cells \u2022 Li-ion safety/charging management <p>Choice: 9 V wall adapter 9V adapter for bench bring-up; consider 2\u00d718650 + buck for mobile demos later.</p> <p>Rationale: The adapter minimizes risk and simplifies testing; battery paths add charging/cutoff complexity not needed for MVP.</p>"},{"location":"02-Component-Selection/Component-Selection/#block-connectors-sensor-input-subsystem-headers","title":"Block: Connectors (sensor input + subsystem headers)","text":"Solution Photo Cost Link Pros Cons Option 1: JST-XH (2.5 mm pitch) wire-to-board Low JST XH datasheet \u2022 Locking friction \u2022 ~3 A (AWG22) \u2022 Widely available \u2022 Not breadboard-friendly Option 2: Molex/JST-XH assortment kit \\(20\u2013\\)30 Adafruit JST-XH kit (PDF) \u2022 Handy assortment for lab builds \u2022 Bulk purchase; storage overhead Option 3: 0.1\u2033 (2.54 mm) pin headers + housings Very low Adafruit 0.1\u2033 break-away header \u2022 Breadboard-compatible \u2022 Lowest cost \u2022 No latch; can pull loose <p>Choice: JST-XH JST-XH on the PCB for field connections; 0.1\u2033 headers for bench adapters.</p> <p>Rationale: XH gives retention and current capacity on-device; 0.1\u2033 is convenient during prototyping.</p>"},{"location":"02-Component-Selection/Component-Selection/#microcontroller","title":"Microcontroller","text":"Solution Photo Cost Link Pros Cons PIC18F57Q43 Curiosity Nano (Dev Board) ~\\(25\u2013\\)35 Microchip DM164150 \u2022 On-board debugger \u2022 Fast bring-up \u2022 Known pinout \u2022 Larger footprint \u2022 Dev-board BOM cost Bare PIC18F57Q43 on custom PCB ~\\(3\u2013\\)6 PIC18F57Q43 product \u2022 Lowest per-unit cost \u2022 Small footprint \u2022 Needs programming/debug HW \u2022 Longer bring-up Alt MCU Dev Board (ATmega4809 Curiosity Nano) ~\\(25\u2013\\)30 ATmega4809 Curiosity Nano \u2022 Similar toolchain \u2022 Many examples \u2022 Porting effort \u2022 Different peripherals <p>Choice: PIC18F57Q43 Curiosity Nano Curiosity Nano</p> <p>Rationale: Lowest risk and fastest path for this course: on-board debugger, USB power, and immediate access to RA0/RA2 (ADC) + RA1/RB2/RC4 (digital outs). Provided in class</p> <p>Unregulated Power Supply</p> <ol> <li>Wall Adapter Power Supply - 12VDC, 600mA (Barrel Jack)</li> </ol> <p></p> <ul> <li>$9.25/each</li> <li>link to product</li> </ul> Pros Cons High voltage Expensive Enough current Only needed for the motor Uses a barrel jack Not a well known supplier <ol> <li>Switching Split Power Supply \u00b1 12V 500mA Split Supply</li> </ol> <p></p> <ul> <li>$14.95/each</li> <li>Link to product</li> </ul> Pros Cons Multiple jacks If used with other things would need a seperate voltage regulator Not too much current Might not need the white power supply line Up to 12 V Short cord length <ol> <li>12V 5A switching power supply</li> </ol> <p></p> <ul> <li>$24.95/each</li> <li>Link to product</li> </ul> Pros Cons Up to 12 V High current You can use any plug adapter Expensive There's a green indicator light to let you know it's working Bulky in the middle of wires <p>Choice: 12V 5A switching power supply 12V 5A switching power supply</p> <p>Rationale: Though the supplier is not as well known and the data sheet is harder to understand, this had enough current without going overboard since this will power the whole system and not just this subsystem.</p> <p>--</p>"},{"location":"02-Component-Selection/Component-Selection/#pin-table","title":"Pin Table","text":"Function PIC Pin Notes Flex sensor ADC RA0 Divider output 0\u20135 V Rotary sensor (analog input) RA2 From Rotary subsystem (if DAC used) Rotary sensor (UART input) RF1 From Rotary subsystem (if UART used) Motor control 1 (digital in) RA1 From Motor subsystem via Connector 2 Motor control 2 (digital out) RB2 To Motor Subsystem LED RA3 Flex Sensor Reading Errors Switch RC3 To turn off flex sensor reading"},{"location":"02-Component-Selection/Component-Selection/#mcc-configuration-pic18f57q43-detailed-documentation","title":"MCC Configuration (PIC18F57Q43) \u2014 Detailed Documentation","text":"<p>This section is added to address the feedback item: \u201cUpdated MCC Configuration (PIC) with all the microcontroller's subsystems and pins used.\u201d</p> <p>The table below matches the actual pin assignments shown in MPLAB MCC and explains why each pin was chosen.</p> Subsystem Function PIC Pin MCC Module Direction Purpose Flex Sensor ADC Input RA0 ADC1 Input Receives 0\u20135 V signal from divider + RC. Rotary Sensor ADC Input RA2 ADC2 Input Used when rotary subsystem outputs analog rotation angle. Rotary Sensor UART Input RF1 UART RX Input Used if rotary subsystem outputs digital angle over UART. Motor Control Signal (in) RA1 GPIO Input Motor \u2192 Flex subsystem communication. Motor Control Signal (out) RB2 GPIO Output Flex subsystem sends STOP/SAFE signals to motor subsystem. Error LED Output RA3 GPIO Output Red LED indicates flex sensor error or mismatched readings. Debug Switch RC3 GPIO Input Allows debugging / disabling flex sensing while testing. <p>This satisfies the MCC configuration requirement.</p>"},{"location":"02-Component-Selection/Component-Selection/#power-budget-subsystem-level","title":"Power Budget (Subsystem-Level)","text":"<p>The following sections address the missing Power Budget A\u2013E to fulfill the rubric.</p>"},{"location":"02-Component-Selection/Component-Selection/#section-a-maximum-current-for-all-major-components","title":"Section A \u2014 Maximum Current for All Major Components","text":"Component Voltage Max Current Draw Notes PIC18F57Q43 Curiosity Nano 5 V 70\u201390 mA Includes onboard debugger + MCU load. Flex Sensor (Spectra Symbol FS-L-095-103) 5 V ~1 mA Determined by divider total resistance. MCP6004 Op-Amp (1 channel active) 5 V ~100 \u00b5A Very low-power rail-to-rail input/output. Red LED + Resistor 5 V 10\u201315 mA Worst-case LED current. Debug Switch 5 V ~1 mA Pull-up resistor only. Connectors / routing 5 V &lt;5 mA Small overhead. <p>Total Subsystem Current (max): ~110\u2013130 mA</p>"},{"location":"02-Component-Selection/Component-Selection/#section-b-all-major-components-assigned-to-one-power-rail","title":"Section B \u2014 All Major Components Assigned to One Power Rail","text":"<p>All components in the Flex Sensor Subsystem operate on the 5 V regulated rail:</p> <ul> <li>PIC18F57Q43 Curiosity Nano</li> <li>Flex sensor + divider</li> <li>MCP6004 op-amp</li> <li>Red LED</li> <li>Debug switch</li> <li>Connector headers</li> </ul> <p>This satisfies the \u201csingle rail assignment\u201d requirement.</p>"},{"location":"02-Component-Selection/Component-Selection/#section-c-regulator-assigned-to-power-rail","title":"Section C \u2014 Regulator Assigned to Power Rail","text":"<p>The MC7805ACTG supplies the 5 V rail used by the subsystem.</p> <ul> <li>Input: 9\u201312 V external</li> <li>Output: Regulated 5 V</li> <li>Thermal calculation (already included above) confirms safe operation for up to ~150 mA load.</li> </ul> <p>This satisfies the \u201cspecific voltage regulator per rail\u201d requirement.</p>"},{"location":"02-Component-Selection/Component-Selection/#section-d-external-power-source","title":"Section D \u2014 External Power Source","text":"<p>External source selected (as documented earlier):</p> <p>12 V 5A Switching Power Supply</p> <p>This powers the overall system and feeds the MC7805ACTG regulator, which then powers the flex subsystem via 5 V rail.</p> <p>This satisfies the \u201cspecific external source\u201d requirement.</p>"},{"location":"02-Component-Selection/Component-Selection/#section-e-battery-life-calculation-if-battery-used","title":"Section E \u2014 Battery Life Calculation (if battery used)","text":"<p>Battery is not used in the final design. However, the rubric requires a calculation if a battery could be applied.</p> <p>Assuming a 9 V alkaline battery (\u2248600 mAh):</p> <p>Subsystem load \u2248 120 mA</p> <p>Battery life estimate:</p> \\[ \\text{Life} = \\frac{600\\ \\text{mAh}}{120\\ \\text{mA}} \\approx 5\\ \\text{hours} \\] <p>Due to regulator heat dissipation and poor 9 V efficiency, battery use is not recommended, but the calculation is included to satisfy Section E.</p>"},{"location":"03-BOM/BOM/","title":"Bill of Materials","text":""},{"location":"03-BOM/BOM/#bill-of-materials-lakshanands-individual-subsystem","title":"Bill of Materials \u2013 Lakshanand's Individual Subsystem","text":"<p>Revised: October 31, 2025</p> Part Name / Description Unit Qty Per Unit Cost Total Cost Manufacturer Manufacturer Part # Supplier Vendor Part Number Datasheet Link Supplier Part # # Ordered Date Ordered # Received Schematic Reference Designators 8-Pin PCB Connector 2 8.99 8.99 ACERMIC ACERMIC Amazon (user link) J14 15 k\u03a9 Resistor 1 5.99 5.99 Edgelec (assumed) (Amazon resistor kit) Amazon (user link) R20 Flex Sensor 10 k\u03a9\u201320 k\u03a9 1 12.95 12.95 Adafruit 182 (Long Flex Sensor) Adafruit/Digi-Key ADA-182 https://cdn-shop.adafruit.com/datasheets/SpectraFlex.pdf U9 Solid Rubber Strip (Flex Sensor Support) 1 8.99 8.99 NABOWAN (listing) (rubber neoprene strip) Amazon (user link) MECH1"},{"location":"04-Schematic/schematic/","title":"Schematic","text":"<p>Schematic</p> <p></p> <p>The schematic shows all connections for the PIC18F57Q43 Curiosity Nano, power regulation, sensor input, and interface headers. Bypass capacitors (0.1 \u00b5F) are placed near each VDD pin. The regulator receives 9\u201312 V from an external adapter and provides a clean 5 V rail to the board.</p> <p>The PDF of the schematic can be downloaded by . [Cliking here] (final.pdf)</p>"},{"location":"05-Power-Budget/Power-Budget/","title":"Power Budget","text":""},{"location":"05-Power-Budget/Power-Budget/#overview","title":"Overview","text":"<p>This page presents the power budget for all major components across the four subsystems of the automatic door opener. The power budget was developed to estimate the maximum possible current draw from each major electrical component and to outline how power is distributed and supplied throughout the system. This analysis ensures that all power sources and voltage regulators are properly rated to deliver the required current to each subsystem without risk of overloading or power failure.</p> <p>Capture your power budge as a image to display. Take time to get clean breaks and a well organized layout.</p> <p></p> <p>Conclusions</p> <p>Based on the prepared Power Budget, the subsystem operates well within a safe and reasonable current range, leaving additional capacity that can be utilized by other subsystems if needed. The team\u2019s combined power budget analysis confirms that even with a 25% increase in total estimated current draw, the system still maintains sufficient power headroom to ensure stable and reliable operation across all components.</p> <p>Resources</p> <p>Power Budget (PNG):  here</p> <p>Power Budget (Excel Sheet): here.</p>"},{"location":"05-Power-Budget/example-power-budget/","title":"Example Power Budget","text":""},{"location":"05-Power-Budget/example-power-budget/#example-power-budget","title":"Example Power Budget","text":"<p>This page shows an example power budget for the project. Refer to the image above for details.</p>"},{"location":"05-Power-Budget/readme/","title":"Power Budget","text":""},{"location":"05-Power-Budget/readme/#power-budget","title":"Power Budget","text":"<p>This document details the estimated power consumption of the system.</p>"},{"location":"05-Power-Budget/readme/#summary-table","title":"Summary Table","text":"Component Power (W) Motor 50 Controller 10 Sensors 5 Total 65"},{"location":"06-PCB%20Design/pcbdesign/","title":"Pcbdesign","text":"<p>PCB DESIGN</p> <p></p> <p>The PCB layout includes a two-layer design (top and bottom copper), with clear routing for power and sensor signals. Mounting holes and connector pads are positioned for easy assembly. Top layer is N55768 which is supplied with +5v and bottom layer is connected to ground.</p> <p>The Zip folder of the project can be downloaded by . Cliking here</p> <p>The PDF of the board can be downloaded by . Cliking here Gerber Files can be download by Cliking here</p>"},{"location":"07-Microcontroller-Code/mccode/","title":"Mccode","text":"<p>Microcontroller Code</p>"},{"location":"07-Microcontroller-Code/mccode/#define-_xtal_freq-16000000u","title":"define _XTAL_FREQ 16000000u","text":""},{"location":"07-Microcontroller-Code/mccode/#include","title":"include","text":""},{"location":"07-Microcontroller-Code/mccode/#include_1","title":"include","text":""},{"location":"07-Microcontroller-Code/mccode/#include_2","title":"include","text":""},{"location":"07-Microcontroller-Code/mccode/#include-mccgenerated_filessystemsystemh","title":"include \"mcc*generated_files/system/system.h\"","text":""},{"location":"07-Microcontroller-Code/mccode/#include-mcc_generated_filessystempinsh-io_rf0_-iorc0_-iorb4","title":"include \"mcc_generated_files/system/pins.h\" // IO_RF0_, IORC0_, IORB4**","text":""},{"location":"07-Microcontroller-Code/mccode/#include-mcc_generated_filesuartuart1h","title":"include \"mcc_generated_files/uart/uart1.h\"","text":""},{"location":"07-Microcontroller-Code/mccode/#include-mcc_generated_filesadcadch","title":"include \"mcc_generated_files/adc/adc.h\"","text":"<p>/ ---------- helpers ---------- / static inline void acq_us(uint16_t us){ while(us--) __delay_us(1); }</p> <p>static inline adc_result_t adc_read_once(adc_channel_t ch) { ADC_ChannelSelect(ch); acq_us(20); // raise if source impedance is high (50\u2013200 us) ADC_ConversionStart(); while(!ADC_IsConversionDone()); return ADC_ConversionResultGet(); }</p> <p>static inline adc_result_t median3(adc_result_t a, adc_result_t b, adc_result_t c) { if (a &gt; b){ adc_result_t t=a; a=b; b=t; } if (b &gt; c){ adc_result_t t=b; b=c; c=t; } if (a &gt; b){ adc_result_t t=a; a=b; b=t; } return b; }</p> <p>static adc_result_t adc_read_stable_ra0(void) { (void)adc_read_once(ADC_CHANNEL_ANA0); // discard first (channel residue) adc_result_t s1 = adc_read_once(ADC_CHANNEL_ANA0); adc_result_t s2 = adc_read_once(ADC_CHANNEL_ANA0); adc_result_t s3 = adc_read_once(ADC_CHANNEL_ANA0); return median3(s1, s2, s3); }</p> <p>/ ---------- button (RB4 active-low) ---------- / static uint8_t btn_is_pressed(void){ return (IO_RB4_GetValue() == 0); }</p> <p>static uint8_t btn_press_edge(uint8_t *last) // returns 1 on PRESS edge { uint8_t cur = btn_is_pressed(); __delay_ms(20); // debounce cur = btn_is_pressed();</p> <pre><code>uint8_t edge = (cur == 1u &amp;&amp; *last == 0u) ? 1u : 0u;\n*last = cur;\nreturn edge;\n</code></pre> <p>}</p> <p>/ ---------- configuration ---------- /</p>"},{"location":"07-Microcontroller-Code/mccode/#define-vref_volts-50f-adc-reference-vdd-for-printing-only","title":"define VREF_VOLTS 5.0f // ADC reference (VDD). For printing only.","text":""},{"location":"07-Microcontroller-Code/mccode/#define-led_blink_ms-40-rapid-blink-period-when-out-of-band","title":"define LED_BLINK_MS 40 // rapid blink period when out-of-band","text":""},{"location":"07-Microcontroller-Code/mccode/#define-hyst-001f-small-hysteresis-to-reduce-chatter","title":"define HYST 0.01f // small hysteresis to reduce chatter","text":""},{"location":"07-Microcontroller-Code/mccode/#define-min_gap-002f-keep-upper-lower-min_gap","title":"define MIN_GAP 0.02f // keep upper &gt;= lower + MIN_GAP","text":"<p>/ clamp helper / static inline float clampf(float v, float lo, float hi){ return (v &lt; lo) ? lo : (v &gt; hi) ? hi : v; }</p> <p>void main(void) { SYSTEM_Initialize();</p> <pre><code>const uint8_t  res     = ADC_ResolutionGet();               // e.g., 12\nconst uint32_t adc_max = ((uint32_t)1u &lt;&lt; res) - 1u;        // 4095 @ 12-bit\n\n// Band on normalized value (0.0\u20131.0)\nfloat lower = 0.30f;\nfloat upper = 0.70f;\n\nprintf(\"\\r\\nADC monitor (res=%u-bit). Normalized range = [%.2f, %.2f]\\r\\n\",\n       res, lower, upper);\n\nuint8_t last_btn = btn_is_pressed();\n\nwhile (1)\n{\n    /* --- sample --- */\n    adc_result_t raw = adc_read_stable_ra0();\n\n    // normalized 0..1 using native full-scale\n    float norm = (float)raw / (float)adc_max;\n    norm = clampf(norm, 0.0f, 1.0f);\n\n    // voltage print (for human sanity)\n    float volts = norm * VREF_VOLTS;\n\n    printf(\"RAW=%u  V=%.2f  norm=%.3f  band=[%.2f, %.2f]\\r\\n\",\n           (unsigned)raw, (double)volts, (double)norm, (double)lower, (double)upper);\n\n    /* --- out-of-band detection with a hint of hysteresis --- */\n    uint8_t too_low  = (norm &lt; (lower - HYST));\n    uint8_t too_high = (norm &gt; (upper + HYST));\n    uint8_t fault    = (too_low || too_high);\n\n    /* --- calibration via RB4 press (only when actually out-of-band) --- */\n    if (btn_press_edge(&amp;last_btn) &amp;&amp; fault)\n    {\n        if (too_high) {\n            // If &gt; upper (e.g., 0.90), make this the new upper and pull lower to 0.50\n            upper = clampf(norm, 0.0f, 1.0f);\n            lower = 0.50f;\n            if (upper &lt; lower + MIN_GAP) upper = clampf(lower + MIN_GAP, 0.0f, 1.0f);\n            printf(\"CAL: new upper=%.3f, lower pulled to 0.50\\r\\n\", (double)upper);\n        } else {\n            // If &lt; lower (e.g., 0.00), make this the new lower and pull upper to 0.50\n            lower = clampf(norm, 0.0f, 1.0f);\n            upper = 0.50f;\n            if (lower &gt; upper - MIN_GAP) lower = clampf(upper - MIN_GAP, 0.0f, 1.0f);\n            printf(\"CAL: new lower=%.3f, upper pulled to 0.50\\r\\n\", (double)lower);\n        }\n    }\n\n    /* --- indicate state --- */\n    if (fault) {\n        // Rapid blink BOTH RF0 and RC0 while out-of-band\n        IO_RF0_Toggle();\n        IO_RC0_Toggle();\n        __delay_ms(LED_BLINK_MS);\n    } else {\n        // In-band \u2192 both off\n        IO_RF0_SetLow();\n        IO_RC0_SetLow();\n        __delay_ms(120);\n    }\n}\n</code></pre> <p>}</p>"},{"location":"Appendix/Inputs%20from%20Design%20Review/","title":"Appendix \u2013 Inputs from Design Review","text":""},{"location":"Appendix/Inputs%20from%20Design%20Review/#action-items-feedback-summary","title":"Action Items / Feedback Summary","text":"<ul> <li>The resistor currently tied between +5 V and GND is not required and should be deleted.</li> <li>Ensure all through-hole pads (especially high-current or ground pads) have thermal relief spokes to improve solderability.</li> <li>One labeled test point per pin for debugging and probing.</li> <li>Do not route every GND pin back to the barrel jack pad.</li> <li>Instead, use a ground plane (bottom layer) for return paths and improved noise performance.</li> <li>Reduces via count and keeps power trace shorter and wider.</li> <li>Avoid default names like <code>N0001</code>.</li> <li>Use meaningful labels (e.g., <code>FLEX_OUT</code>, <code>ADC_VIN</code>, <code>5V_IN</code>, <code>MOTOR_EN</code>, etc.).</li> <li>If the flex sensor readings saturate or the hinge angle exceeds its bend rating.</li> <li>Mount the flex sensor on a thin flexible silicon strip or similar compliant material</li> <li>This allows the door to move fully without forcing the sensor to bend beyond its limit.</li> </ul>"},{"location":"Appendix/Inputs%20from%20Design%20Review/#feedback-from-draukes","title":"Feedback from Dr.Aukes","text":"<p>-\"Flex Sensor\" was obscured by another element. \u2014 corrected</p> <p>-Block spacing was inconsistent, and connectors were not attached to block edges. \u2014 corrected</p> <p>-\"Interfaces\" (connection points) were incorrectly placed inside blocks instead of on their boundaries. \u2014 corrected</p> <p>-Text was missing on arrows; double-clicking on the arrow to add text has been done. \u2014 corrected</p> <p>-Font sizes were inconsistent across the document and among teammates; uniform font sizing has been applied. \u2014 corrected</p> <p>-The voltage \u201cregion\u201d is now used instead of a separate voltage regulator box to reduce unnecessary wiring. \u2014 corrected</p> <p>-Connector I/O details have been clearly provided. \u2014 corrected</p> <p>-ADC1 has been labeled and accompanied by uniquely formatted notes. \u2014 corrected</p> <p>-Overall formatting and labeling have been improved for clarity and consistency. \u2014 corrected</p>"}]}